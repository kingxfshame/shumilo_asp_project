
@{
    ViewBag.Title = "Register";
}

<h2>Register Page</h2>

<div class="container">
    <div class="row">
        <form id="register">
            <div class="form-group">
                <label for="exampleInputEmail1">Email address</label>
                <input type="email" class="form-control" id="email" aria-describedby="emailHelp" placeholder="Enter email">
                <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
            </div>
            <div class="form-group">
                <label for="exampleInputPassword1">Password</label>
                <input type="password" class="form-control" id="password" placeholder="Password">
            </div>
            <div class="form-group">
                <label for="exampleInputPassword1">Confirm your Password</label>
                <input type="password" class="form-control" id="password_second" placeholder="Password">
            </div>
            <button type="submit" class="btn btn-primary">Submit <i class="fa fa-check" aria-hidden="true"></i> </button>
        </form>
    </div>
</div>
<script>
    $(document).ready(function () {


    $('#register').submit(function (e) {
        e.preventDefault(); // выключает перезапуск страницы
        const email = $('#email').val();
        const password = $('#password').val();
        const password_second = $('#password_second').val();
        const data = {
            'email': email,
            'password': password,
            'password_second': password_second
        };

        $.ajax({
            method: "post",
            url: "../../api/user",
            contentType: "application/json",
            dataType: "json",
            data: JSON.stringify(data)
        }).done(function (data) {
            if (data == "Success") {
                window.location.href = "../../Home/Success";
            }
            console.log(data);
        });
    })
  })
</script>